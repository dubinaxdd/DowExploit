#include <Windows.h>

void __RPC_CALLEE disablePlaybackLabel(void) {

	BYTE jmp[2] = { 0xeb, 0x32 };
	DWORD hAdr, oldProt; 
	hAdr = (DWORD)GetModuleHandleA("Soulstorm.exe") + 0x2AB696;
	VirtualProtect((DWORD*)hAdr, 2, PAGE_EXECUTE_READWRITE, &oldProt);
	memcpy_s((DWORD*)hAdr, sizeof(jmp), jmp, sizeof(jmp));
	VirtualProtect((DWORD*)hAdr, 2, PAGE_EXECUTE_READ, &oldProt);
	return;
}

bool _stdcall DllMain(HMODULE h, DWORD f, LPVOID l) {

	if (f == 1) {
        CreateThread(0, 0, (LPTHREAD_START_ROUTINE)disablePlaybackLabel, 0, 0, 0);
	}
	return 1;
}
